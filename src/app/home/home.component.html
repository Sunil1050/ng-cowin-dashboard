<div class="home-container" *ngIf="!isLoading; else loader">
    <div class="home__search-container" #searchContainer>
            <mat-icon class="home__search-icon">search</mat-icon>
            <input type="text" placeholder="Enter the State" class="home__search-input" [formControl]="searchControl"
                [matAutocomplete]="auto">
            />
                <mat-autocomplete #auto="matAutocomplete">
                    <mat-option *ngFor="let state of filteredStates | async" [value]="state.stateName">
                        {{state.stateName}} - {{ state.stateCode }}
                    </mat-option>
                </mat-autocomplete>
    </div>
    <div class="home__covid-cases-stats">
        <app-case-stats *ngFor="let covidCaseStat of covid19CategoriesTotalStats" [covidCaseStat]="covidCaseStat">
        </app-case-stats>
    </div>
    <div class="home__state-table-container">
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 home__state-table">

            <!--- Note that these columns can be defined in any order.
                  The actual rendered columns are set as a property on the row definition" -->

            <!-- State/UT Column -->
            <ng-container matColumnDef="state">
                <th mat-header-cell *matHeaderCellDef>State/UT</th>
                <td mat-cell *matCellDef="let element" class="home__td-state"> {{element.state}} </td>
            </ng-container>

            <!-- Confirmed Column -->
            <ng-container matColumnDef="confirmed">
                <th mat-header-cell *matHeaderCellDef> Confirmed </th>
                <td mat-cell *matCellDef="let element" class="home__td-confirmed"> {{element.confirmed}} </td>
            </ng-container>

            <!-- Active Column -->
            <ng-container matColumnDef="active">
                <th mat-header-cell *matHeaderCellDef> Active </th>
                <td mat-cell *matCellDef="let element" class="home__td-active"> {{element.tested}} </td>
            </ng-container>

            <!-- Recovered Column -->
            <ng-container matColumnDef="recovered">
                <th mat-header-cell *matHeaderCellDef> Recovered </th>
                <td mat-cell *matCellDef="let element" class="home__td-recovered"> {{element.recovered}} </td>
            </ng-container>

            <!-- Deceased Column -->
            <ng-container matColumnDef="deceased">
                <th mat-header-cell *matHeaderCellDef> Deceased </th>
                <td mat-cell *matCellDef="let element" class="home__td-deceased"> {{element.deceased}} </td>
            </ng-container>

            <!-- Population Column -->
            <ng-container matColumnDef="population">
                <th mat-header-cell *matHeaderCellDef> Population </th>
                <td mat-cell *matCellDef="let element" class="home__td-population"> {{element.population}} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns" class="home__state-table-header"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>
    <app-footer></app-footer>
</div>

<ng-template #loader>
    <app-loader></app-loader>
</ng-template>